@using ProgrammersBlog.Entities.ComplexTypes
@model ProgrammersBlog.Mvc.Areas.Admin.Models.ArticleRightSideBarWidgetOptionsViewModel

@{
    Layout = "_Layout";
    ViewBag.Title = "Makale Sayfaları için Widget Ayarları";
}

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm border-0 rounded-lg">
                <div class="card-header bg-gradient-primary text-white">
                    <h4 class="text-center mb-0"><span class="fas fa-edit mr-2"></span>Makale Sayfaları için Widget Ayarları</h4>
                </div>
                <div class="card-body bg-light">
                    <form asp-controller="Options" asp-action="ArticleRightSideBarWidgetSettings" method="post" id="form-articlerightsidebarwidgetsettings-update">
                        <div asp-validation-summary="All" class="text-danger rounded p-2 mb-3" id="validation-summary"></div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="Header"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-heading"></i></span>
                                    </div>
                                    <input class="form-control" asp-for="Header" placeholder="Lütfen, tercih ettiğiniz widget başlığını giriniz." />
                                </div>
                                <span class="text-danger small" asp-validation-for="Header"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="TakeSize"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-list-ol"></i></span>
                                    </div>
                                    <input type="number" class="form-control" asp-for="TakeSize" />
                                </div>
                                <span class="text-danger small" asp-validation-for="TakeSize"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="filterByList" asp-for="FilterBy"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-filter"></i></span>
                                    </div>
                                    <select id="filterByList" class="form-control select2bs4" asp-for="FilterBy" asp-items="Html.GetEnumSelectList<FilterBy>()">
                                        <option></option>
                                    </select>
                                </div>
                                <span asp-validation-for="FilterBy" class="text-danger small"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="menuList" asp-for="MenuId"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-tag"></i></span>
                                    </div>
                                    <select id="menuList" class="form-control select2bs4" asp-for="MenuId" asp-items="@(new SelectList(Model.Menus,"Id","Name"))">
                                        <option value=""></option>
                                    </select>
                                </div>
                                <span asp-validation-for="MenuId" class="text-danger small"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="orderByList" asp-for="OrderBy"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-sort"></i></span>
                                    </div>
                                    <select id="orderByList" class="form-control select2bs4" asp-for="OrderBy" asp-items="Html.GetEnumSelectList<OrderBy>()">
                                        <option></option>
                                    </select>
                                </div>
                                <span asp-validation-for="OrderBy" class="text-danger small"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="isAscendingList" asp-for="IsAscending"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-sort-amount-up-alt"></i></span>
                                    </div>
                                    <select id="isAscendingList" class="form-control select2bs4" asp-for="IsAscending">
                                        <option></option>
                                        <option value="true">Artan</option>
                                        <option value="false">Azalan</option>
                                    </select>
                                </div>
                                <span asp-validation-for="IsAscending" class="text-danger small"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="startAtDatePicker" asp-for="StartAt"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                    </div>
                                    <input type="text" id="startAtDatePicker" class="form-control datepicker" value="@Model.StartAt.ToShortDateString()" asp-for="StartAt" />
                                </div>
                                <span asp-validation-for="StartAt" class="text-danger small"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" for="endAtDatePicker" asp-for="EndAt"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                    </div>
                                    <input type="text" id="endAtDatePicker" class="form-control datepicker" value="@Model.EndAt.ToShortDateString()" asp-for="EndAt" />
                                </div>
                                <span asp-validation-for="EndAt" class="text-danger small"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="MinViewCount"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-eye"></i></span>
                                    </div>
                                    <input type="number" class="form-control" asp-for="MinViewCount" />
                                </div>
                                <span class="text-danger small" asp-validation-for="MinViewCount"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="MaxViewCount"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-eye"></i></span>
                                    </div>
                                    <input type="number" class="form-control" asp-for="MaxViewCount" />
                                </div>
                                <span class="text-danger small" asp-validation-for="MaxViewCount"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="MinCommentCount"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-comments"></i></span>
                                    </div>
                                    <input type="number" class="form-control" asp-for="MinCommentCount" />
                                </div>
                                <span class="text-danger small" asp-validation-for="MinCommentCount"></span>
                            </div>

                            <div class="form-group col-md-6">
                                <label class="font-weight-bold" asp-for="MaxCommentCount"></label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-comments"></i></span>
                                    </div>
                                    <input type="number" class="form-control" asp-for="MaxCommentCount" />
                                </div>
                                <span class="text-danger small" asp-validation-for="MaxCommentCount"></span>
                            </div>
                        </div>

                        <div class="form-group text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-lg px-5 mr-3">
                                <span class="fas fa-save mr-2"></span> Kaydet
                            </button>
                            <a class="btn btn-danger btn-lg px-5" asp-area="Admin" asp-controller="Home" asp-action="Index">
                                <span class="fas fa-times mr-2"></span> İptal
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.8.18/i18n/jquery-ui-i18n.min.js"></script>
    <script src="~/AdminLTE/js/articleRightSideBarWidgetSettings.js"></script>
    <script>
        $(document).ready(function () {
            // Türkçeleştirme
            $.datepicker.setDefaults($.datepicker.regional["tr"]);

            // Select2
            $('.select2bs4').select2({
                theme: 'bootstrap4',
                placeholder: 'Seçiniz...',
                allowClear: true
            });

            // DatePicker
            $('.datepicker').datepicker({
                dateFormat: 'dd.mm.yy',
                showAnim: 'fadeIn',
                changeMonth: true,
                changeYear: true
            });
        });
    </script>
}


@section Styles
{
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.14.1/themes/cupertino/jquery-ui.min.css" integrity="sha512-ihQQA8QJP/Z9+ZDDx+pNCVC/vLsgtopVYZk/6iofSASaM1gNWyEQ+JHE6lj/7FfgC3RR7mgPZ1T4IcEI13Bu2Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.14.1/themes/cupertino/theme.min.css" integrity="sha512-TOaslMbZHzzhHo88qDkXky3HktUKa+JhnLL4WvZWfhAMHQOZrQuqVrR0nataMsyJwf9LMKUR0k4B5xVYDHqkpw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="~/AdminLTE/css/select2-bootstrap4.min.css" rel="stylesheet" />
    <style>
        .card {
            transition: all 0.3s ease;
        }

        .card-header {
            background: linear-gradient(45deg, #4e73df, #36b9cc);
            border-bottom: 0;
            padding: 1.2rem;
        }

        .form-control, .input-group-text {
            border-radius: 0.5rem;
        }

        .input-group .form-control {
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }

        .input-group-text {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
            background-color: #f8f9fc;
            width: 40px;
            justify-content: center;
        }

        label {
            color: #5a5c69;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .btn {
            border-radius: 0.5rem;
            padding: 0.5rem 1.5rem;
            transition: all 0.3s;
            font-weight: 500;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4e73df, #2e59d9);
            border: none;
            box-shadow: 0 2px 4px rgba(78, 115, 223, 0.4);
        }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(78, 115, 223, 0.5);
            }

        .btn-danger {
            background: linear-gradient(45deg, #e74a3b, #c0392b);
            border: none;
            box-shadow: 0 2px 4px rgba(231, 74, 59, 0.4);
        }

            .btn-danger:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(231, 74, 59, 0.5);
            }

        .bg-light {
            background-color: #f8f9fc !important;
        }

        .select2-container--bootstrap4 .select2-selection {
            border-radius: 0.5rem;
            height: calc(1.5em + 0.75rem + 2px);
        }

        .ui-datepicker {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: none;
        }
    </style>
}