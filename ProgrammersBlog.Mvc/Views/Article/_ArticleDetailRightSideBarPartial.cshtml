@model ProgrammersBlog.Mvc.Models.ArticleDetailRightSideBarViewModel
<div class="col-lg-4">
    <!-- Kullanıcı Profil Kartı - Start -->
    <div class="widget-card mb-4">
        <div class="text-center mt-3 mb-2">
            <div class="user-icon-container">
                <div class="user-icon-inner" style="background:  linear-gradient(135deg, #ff9a9e, #fad0c4)">
                    <i class="bi bi-person-hearts"></i>
                </div>
                <div class="user-icon-ring"></div>
                <div class="admin-badge">@Model.User.UserName</div>
            </div>
        </div>
        <h3 class="widget-title text-center">@Model.User.FirstName</h3>
        <div class="card-body">
            <p class="card-text text-center">@Model.User.About</p>
            
            <div class="text-center mt-3">
                <p class="small text-muted mb-2">Sosyal Medya</p>
                <div class="d-flex justify-content-center gap-3">
                    @if (Model.User.LinkedInLink != null)
                    {
                        <a href="@Model.User.LinkedInLink" class="text-secondary"><i class="bi bi-linkedin"></i></a>
                    }
                    @if (Model.User.GitHubLink != null)
                    {
                        <a href="@Model.User.GitHubLink" class="text-secondary"><i class="bi bi-github"></i></a>
                    }
                    @if (Model.User.TwitterLink != null)
                    {
                        <a href="@Model.User.TwitterLink" class="text-secondary"><i class="bi bi-twitter"></i></a>
                    }
                    @if (Model.User.FacebookLink != null)
                    {
                        <a href="@Model.User.FacebookLink" class="text-secondary"><i class="bi bi-facebook"></i></a>
                    }
                    @if (Model.User.InstagramLink != null)
                    {
                        <a href="@Model.User.InstagramLink" class="text-secondary"><i class="bi bi-instagram"></i></a>
                    }
                    @if (Model.User.YoutubeLink != null)
                    {
                        <a href="@Model.User.YoutubeLink" class="text-secondary"><i class="bi bi-youtube"></i></a>
                    }
                    @if (Model.User.WebsiteLink != null)
                    {
                        <a href="@Model.User.WebsiteLink" class="text-secondary"><i class="bi bi-house-door"></i></a>
                    }
                </div>
            </div>
        </div>
    </div>
    <!-- Kullanıcı Profil Kartı - End -->
    <!-- Makale Listesi Kartı - Start -->
    <div class="widget-card">
        <h3 class="widget-title">@Model.Header</h3>
        <div class="list-group">
            @for (int i = 0; i < Model.ArticleListDto.Articles.Count; i++)
            {
                var listItemClass = i % 2 == 0 ? "list-group-item-primary" : "list-group-item-info";

                <a asp-controller="Article"
                   asp-action="Detail"
                   asp-route-articleId="@Model.ArticleListDto.Articles[i].Id"
                   class="list-group-item @listItemClass d-flex align-items-center">
                    <img src="~/img/@Model.ArticleListDto.Articles[i].Thumbnail"
                         alt="@Model.ArticleListDto.Articles[i].Title"
                         class="me-2 rounded" style="width: 40px; height: 40px; object-fit: cover;">
                    <div>
                        <span class="fw-medium">@Model.ArticleListDto.Articles[i].Title</span>
                        <small class="d-block text-muted">
                            <i class="bi bi-calendar3"></i> @Model.ArticleListDto.Articles[i].CreatedDate.ToString("dd MMM yyyy")
                        </small>
                    </div>
                </a>
            }
        </div>
    </div>
    <!-- Makale Listesi Kartı - End -->
    <!-- Bültene Abone Ol Kartı - Start -->
    <div class="widget-card">
        <h3 class="widget-title">Bültene Abone Olun</h3>
        <p>En güncel makaleler ve duyurular için e-posta listemize katılın.</p>
        <form class="newsletter-form">
            <div class="input-group mb-3">
                <input type="email" class="form-control" placeholder="E-posta adresiniz" aria-label="Email">
                <button class="btn btn-primary" type="submit">Abone Ol</button>
            </div>
        </form>
    </div>
    <!-- Bültene Abone Ol Kartı - End -->
    <!-- Etiketler Kartı - Start -->
    <div class="widget-card" style="font-family: sans-serif;">
        <h3 class="widget-title d-flex align-items-center justify-content-between">
            Etiketler
            <span style="font-size: 0.75em; color: #888; margin-left: 10px;">
                <i class="fas fa-lightbulb" style="color: #ffc107;"></i> Tıkla ve keşfet 🌟
            </span>
        </h3>

        <div class="d-flex flex-wrap gap-2" id="etiketler">
            <a class="btn btn-sm" style="background-color:#fce4ec; color:#c2185b;" title="Deniz kenarı tatilleri">#Plaj</a>
            <a class="btn btn-sm" style="background-color:#e3f2fd; color:#1565c0;" title="Tekne gezileri">#Tekne</a>
            <a class="btn btn-sm" style="background-color:#f3e5f5; color:#6a1b9a;" title="Antik şehirler">#Antik</a>
            <a class="btn btn-sm" style="background-color:#fff3e0; color:#ef6c00;" title="Yemek turları">#Yemek</a>
            <a class="btn btn-sm" style="background-color:#e8f5e9; color:#2e7d32;" title="Kültürel etkinlikler">#Kültür</a>
            <a class="btn btn-sm" style="background-color:#ede7f6; color:#512da8;" title="Oteller ve konaklama">#Otel</a>
            <a class="btn btn-sm" style="background-color:#f1f8e9; color:#689f38;" title="Fethiye rehberi">#Fethiye</a>
            <a class="btn btn-sm" style="background-color:#fbe9e7; color:#d84315;" title="Bodrum gezilecek yerler">#Bodrum</a>
            <a class="btn btn-sm" style="background-color:#e0f7fa; color:#00838f;" title="Marmaris'te tatil">#Marmaris</a>
            <a class="btn btn-sm" style="background-color:#fff8e1; color:#ff6f00;" title="Festival programları">#Festival</a>
            <a class="btn btn-sm" style="background-color:#edeef7; color:#3949ab;" title="Doğa yürüyüşü">#Trekking</a>
            <a class="btn btn-sm" style="background-color:#f9fbe7; color:#827717;" title="Kamp alanları">#Kamp</a>
            <a class="btn btn-sm" style="background-color:#ffebee; color:#d81b60;" title="Balayı rotaları">#Balayı</a>
            <a class="btn btn-sm" style="background-color:#e0f2f1; color:#00796b;" title="Gece kulüpleri">#GeceHayatı</a>
            <a class="btn btn-sm" style="background-color:#e1f5fe; color:#0288d1;" title="Müzik festivalleri">#Müzik</a>
            <a class="btn btn-sm" style="background-color:#fce4ec; color:#880e4f;" title="Deniz kenarı rotaları">#Sahil</a>
            <a class="btn btn-sm" style="background-color:#ede7f6; color:#4527a0;" title="Tatil köyleri">#Resort</a>
            <a class="btn btn-sm" style="background-color:#f1f8e9; color:#33691e;" title="Manzara noktaları">#Manzara</a>
            <a class="btn btn-sm" style="background-color:#fff3e0; color:#e65100;" title="Yaz tatili önerileri">#YazTatili</a>
            <a class="btn btn-sm" style="background-color:#fbe9e7; color:#bf360c;" title="Kahvaltı mekanları">#Kahvaltı</a>
        </div>

        <div class="mt-3">
            <button onclick="rastgeleEtiketSec()" class="btn btn-sm btn-success">🎲 Rastgele Etiket Seç</button>
        </div>

        <div id="etiketAcilama" style="margin-top: 15px; font-size: 0.95em; color: #555;"></div>
        <div id="mesajKutusu" style="margin-top: 10px; font-style: italic; color: #777;"></div>

        <!-- Etiketler Kartı Script - Start -->
        <script>
            const etiketMesajlari = {
                "#Plaj": ["Dalga seslerini dinle… 🌊", "Güneşin altında kumlarla dans et! ☀️", "Bugün plajda sadece sen ve huzur var."],
                "#Tekne": ["Rüzgarla yarış, rotanı kalbin çizsin. ⛵", "Denizin ortasında bir gün her şeyi değiştirir. 🌅", "Martılar bile seni takip edecek!"],
                "#Antik": ["Taşlara dokun, binlerce yıl öncesiyle tanış. 🏛️", "Zaman yolculuğu gerçek olabilir…", "Bir uygarlığın hikayesine adım at."],
                "#Yemek": ["Yeni tatlar keşfetmek de bir seyahat biçimi! 🍜", "Bu gezi damakta iz bırakacak. 😋", "Lezzetli bir keşif başlasın!"],
                "#Kültür": ["Her sokak bir hikâye anlatır…", "Yerel müzikleri dinle, ruhun dans etsin! 🎭", "Kültür, bir yolculuğun kalbidir."],
                "#Otel": ["Konforun adresi burası. 🛏️", "Dinlenmeye vakit ayır, bedenin de tatil yapmalı.", "Sıcak bir karşılama seni bekliyor."],
                "#Fethiye": ["Fethiye'nin turkuazına doyamazsın! 💙", "Kelebekler Vadisi seni çağırıyor!", "Likya Yolu'na adım at, efsaneler seninle."],
                "#Bodrum": ["Beyaz evler, mavi kapılar… Bodrum ruhu! 🎨", "Akşamları Bodrum başka güzeldir…", "Gündüz deniz, gece eğlence!"],
                "#Marmaris": ["Çam ormanları ve deniz burada buluşur. 🌲🌊", "Marmaris'te gün doğumu izlenir!", "Marinada bir yürüyüşe ne dersin?"],
                "#Festival": ["Ritmi yakala, dans et, unut her şeyi! 🥳", "Festival enerjisi bir başkadır!", "Işıklar, müzik ve sen…"],
                "#Trekking": ["Patikaları takip et, nefesin açılır. 🥾", "Doğada yürüdükçe zihnin de açılır.", "Her adım yeni bir manzara demek."],
                "#Kamp": ["Yıldızlar altında uyumaya hazır mısın? ✨", "Kamp ateşi etrafında anılar birikir.", "Doğa dostlarını unutma!"],
                "#Balayı": ["Aşkın rotası şimdi başlıyor. 💍", "Hayal gibi bir tatil sizi bekliyor!", "Birlikte keşfetmenin tadı başka."],
                "#GeceHayatı": ["Işıklar yansın, gece başlasın! 💃", "Dans, müzik ve sen – geceye hazırsın.", "Sokaklar sabaha kadar senin!"],
                "#Müzik": ["Ritmi kalbinde hisset. 🎶", "Her festival bir başka hayat!", "Müziğin peşinden git."],
                "#Sahil": ["Ayaklarını denize uzat, dertleri bırak. 🌴", "Sahilde geçirilen her dakika özeldir.", "Kokusu bile huzur verir…"],
                "#Resort": ["Her şey dahil bir huzur! 🏖️", "Şimdi tamamen sana ait bir an.", "Yalnızca keyif var, sorumluluk yok."],
                "#Manzara": ["Manzara karşısında sessiz kalmak bile yetmez. 🏞️", "Ufka bak, içini dinle.", "Görmekle kalma, hisset."],
                "#YazTatili": ["Güneş, deniz ve yazlık elbiseler! ☀️👗", "Yaz senin ruh halin olsun.", "En güzel anlar şimdi başlasın!"],
                "#Kahvaltı": ["Bir kahvaltı dünyayı değiştirir. ☕🍳", "Güne zengin başla!", "Menemen mi, serpme mi? Karar senin!"]
            };

            function rastgeleEtiketSec() {
                const etiketler = document.querySelectorAll('#etiketler a');
                etiketler.forEach(et => et.style.outline = 'none');

                const rastgele = etiketler[Math.floor(Math.random() * etiketler.length)];
                rastgele.style.outline = '3px solid #ff4081';
                rastgele.scrollIntoView({ behavior: 'smooth', block: 'center' });

                const etiketAdi = rastgele.textContent.trim();
                const aciklama = rastgele.getAttribute("title");
                const mesajlar = etiketMesajlari[etiketAdi] || ["Bu etiketle ilgili maceran seni bekliyor!"];
                const mesaj = mesajlar[Math.floor(Math.random() * mesajlar.length)];

                document.getElementById("etiketAcilama").innerHTML = `<strong>${etiketAdi}</strong>: ${aciklama}`;
                document.getElementById("mesajKutusu").innerText = mesaj;
            }
        </script>
        <!-- Etiketler Kartı Script - End -->
    </div>
    <!-- Etiketler Kartı - End -->
    <!-- Video Carousel Kartı - Start -->
    <div class="widget-card mb-4" id="dynamicColorCard">
        <h3 class="widget-title">Muğla'nın İncileri</h3>
        <div class="card-body p-0">
            <div id="videoCarousel" class="carousel slide position-relative" data-bs-ride="false">
                <div class="carousel-inner">
                    <!-- 1. Video: Akyaka -->
                    <div class="carousel-item active" data-video-title="Akyaka'nın Güzellikleri" data-video-desc="Azmak Nehri ve Akyaka'nın eşsiz doğasını keşfedin." data-video-date="20 Nis 2025" data-video-id="vEPg7SZF-nc">
                        <div class="ratio ratio-16x9 video-thumbnail-container">
                            <img src="https://img.youtube.com/vi/vEPg7SZF-nc/maxresdefault.jpg" alt="Akyaka" class="w-100 h-100 object-fit-cover">
                            <div class="play-overlay">
                                <i class="bi bi-play-circle-fill"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Video: Datça -->
                    <div class="carousel-item" data-video-title="Datça Yarımadası" data-video-desc="Ege ve Akdeniz'in buluştuğu eşsiz Datça yarımadasını keşfedin." data-video-date="15 Nis 2025" data-video-id="573dX7JLcqY">
                        <div class="ratio ratio-16x9 video-thumbnail-container">
                            <img src="https://img.youtube.com/vi/573dX7JLcqY/maxresdefault.jpg" alt="Datça" class="w-100 h-100 object-fit-cover">
                            <div class="play-overlay">
                                <i class="bi bi-play-circle-fill"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Video: Marmaris -->
                    <div class="carousel-item" data-video-title="Marmaris'in Koyları" data-video-desc="Marmaris'in eşsiz koyları ve masmavi denizini keşfedin." data-video-date="10 Nis 2025" data-video-id="CbNeGyi-u-k">
                        <div class="ratio ratio-16x9 video-thumbnail-container">
                            <img src="https://img.youtube.com/vi/CbNeGyi-u-k/maxresdefault.jpg" alt="Marmaris" class="w-100 h-100 object-fit-cover">
                            <div class="play-overlay">
                                <i class="bi bi-play-circle-fill"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Video: Muğla -->
                    <div class="carousel-item" data-video-title="Muğla Şehir Merkezi" data-video-desc="Geleneksel Muğla evleri ve şehir merkezini keşfedin." data-video-date="5 Nis 2025" data-video-id="bfE-uTo6Nfg">
                        <div class="ratio ratio-16x9 video-thumbnail-container">
                            <img src="https://img.youtube.com/vi/bfE-uTo6Nfg/maxresdefault.jpg" alt="Muğla" class="w-100 h-100 object-fit-cover">
                            <div class="play-overlay">
                                <i class="bi bi-play-circle-fill"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Kontroller -->
                <div class="custom-carousel-controls d-flex justify-content-between position-absolute w-100" style="top: 50%; transform: translateY(-50%); z-index: 10;">
                    <button class="btn btn-light rounded-circle custom-control-btn ms-2" type="button" data-bs-target="#videoCarousel" data-bs-slide="prev">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                    <button class="btn btn-light rounded-circle custom-control-btn me-2" type="button" data-bs-target="#videoCarousel" data-bs-slide="next">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                </div>

                <!-- İndikatörler -->
                <div class="carousel-indicators custom-indicators">
                    <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="2"></button>
                    <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="3"></button>
                </div>
            </div>

            <!-- Video Bilgi -->
            <div class="video-info-section px-3 pt-3 pb-2">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h5 class="card-title video-title mb-0">Akyaka'nın Güzellikleri</h5>
                    <span class="badge bg-info video-count">1/4</span>
                </div>
                <p class="card-text video-desc mb-2">Azmak Nehri ve Akyaka'nın eşsiz doğasını keşfedin.</p>
                <div class="d-flex justify-content-between align-items-center pb-2">
                    <small class="text-muted video-date"><i class="bi bi-calendar3"></i>20 Nis 2025</small>
                    <button class="btn btn-sm btn-outline-primary" id="showAllVideosBtn">İzle</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Video Carousel Kartı - End -->
    <!-- Video Modal - Start -->
    <div class="modal fade" id="videoModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Video İzle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="ratio ratio-16x9">
                        <iframe id="modalVideoPlayer" allow="autoplay"></iframe>
                    </div>
                    <div class="mt-3">
                        <h5 id="modalVideoTitle"></h5>
                        <p id="modalVideoDesc" class="text-muted"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Video Modal - End -->
    <!-- Video Carousel Style - Start -->
    <style>
        #dynamicColorCard {
            transition: all 1.5s ease-in-out;
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .carousel-item {
            cursor: pointer;
        }

        .video-thumbnail-container {
            position: relative;
            overflow: hidden;
        }

        .play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

            .play-overlay i {
                font-size: 4rem;
                color: white;
                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
            }

        .video-thumbnail-container:hover .play-overlay {
            opacity: 1;
        }

        .custom-control-btn {
            width: 40px;
            height: 40px;
            opacity: 0.8;
            transition: all 0.3s;
        }

            .custom-control-btn:hover {
                opacity: 1 !important;
            }

        .custom-indicators button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin: 0 5px;
        }
    </style>
    <!-- Video Carousel Style - End -->
    <!-- Video Carousel Script - Start -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.getElementById('videoCarousel');
            const videoModal = new bootstrap.Modal('#videoModal');
            const modalVideoPlayer = document.getElementById('modalVideoPlayer');

            // Tıklama Olayları
            carousel.addEventListener('click', function(e) {
                if (!e.target.closest('.custom-carousel-controls')) {
                    const activeSlide = document.querySelector('.carousel-item.active');
                    loadVideo(activeSlide);
                }
            });

            // Slider Değişiminde
            carousel.addEventListener('slid.bs.carousel', function(e) {
                const activeSlide = e.relatedTarget;
                updateVideoInfo(activeSlide);
            });

            // İzle Butonu
            document.getElementById('showAllVideosBtn').addEventListener('click', function() {
                const activeSlide = document.querySelector('.carousel-item.active');
                loadVideo(activeSlide);
            });

            function loadVideo(slide) {
                const videoId = slide.dataset.videoId;
                const title = slide.dataset.videoTitle;
                const desc = slide.dataset.videoDesc;

                modalVideoPlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1`;
                document.getElementById('modalVideoTitle').textContent = title;
                document.getElementById('modalVideoDesc').textContent = desc;
                videoModal.show();
            }

            function updateVideoInfo(slide) {
                document.querySelector('.video-title').textContent = slide.dataset.videoTitle;
                document.querySelector('.video-desc').textContent = slide.dataset.videoDesc;
                document.querySelector('.video-date').innerHTML = `<i class="bi bi-calendar3"></i>${slide.dataset.videoDate}`;

                const total = document.querySelectorAll('.carousel-item').length;
                const index = Array.from(slide.parentElement.children).indexOf(slide) + 1;
                document.querySelector('.video-count').textContent = `${index}/${total}`;
            }
        });
    </script>
    <!-- Video Carousel Script - End -->
    <!-- Dinamik Renk Değişimi Script - Start -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const colorPalette = [
                { bg: "#fce4ec", text: "#c2185b" },    // Pembe
                { bg: "#e3f2fd", text: "#1565c0" },    // Mavi
                { bg: "#f3e5f5", text: "#6a1b9a" },    // Mor
                { bg: "#fff3e0", text: "#ef6c00" },    // Turuncu
                { bg: "#e8f5e9", text: "#2e7d32" },    // Yeşil
                { bg: "#ede7f6", text: "#512da8" },    // Lila
                { bg: "#f1f8e9", text: "#689f38" },    // Zümrüt
                { bg: "#fbe9e7", text: "#d84315" },    // Kızıl
                { bg: "#e0f7fa", text: "#00838f" },    // Camgöbeği
                { bg: "#fff8e1", text: "#ff6f00" },    // Amber
                { bg: "#edeef7", text: "#3949ab" },    // Kobalt
                { bg: "#f9fbe7", text: "#827717" },    // Zeytin
                { bg: "#ffebee", text: "#d81b60" },    // Fuşya
                { bg: "#e0f2f1", text: "#00796b" },    // Teal
                { bg: "#e1f5fe", text: "#0288d1" }     // Gök Mavisi
            ];

            const card = document.getElementById('dynamicColorCard');
            const title = card.querySelector('.widget-title');
            let currentIndex = 0;

            function updateColors() {
                const { bg, text } = colorPalette[currentIndex];

                card.style.backgroundColor = bg;
                title.style.color = text;
                title.style.borderBottomColor = text;

                // Metin kontrastını otomatik ayarla
                const luminance = 0.299 * parseInt(text.substr(1,2),16) +
                                0.587 * parseInt(text.substr(3,2),16) +
                                0.114 * parseInt(text.substr(5,2),16);

                card.style.color = luminance > 128 ? '#333' : '#fff';

                currentIndex = (currentIndex + 1) % colorPalette.length;
            }

            // İlk renk geçişini hemen yap
            updateColors();

            // Her 10 saniyede bir renk değiştir
            setInterval(updateColors, 10000);
        });
    </script>
    <!-- Dinamik Renk Değişimi Script - End -->
</div>